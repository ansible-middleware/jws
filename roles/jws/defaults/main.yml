---
# comma separated list of wars to undeploy
jws_apps_to_remove: 'docs,ROOT,examples'
# root directory of installation
jws_install_dir: /opt
jws_rpm: jws5

# if True continue installing even if a running tomcat is found
jws_force_install: False

# installation method: ['local_zipfiles','rhn_zipfiles','zipfiles','rpm']
jws_install_method: local_zipfiles

jws_version: 9.0.60
jws_zipfile_home: "{{ jws_install_dir }}/apache-tomcat-{{ jws_version }}"
jws_zipfile: "apache-tomcat-{{ jws_version }}.zip"
jws_native_zipfile: ''
jws_zipfile_url: "https://archive.apache.org/dist/tomcat/tomcat-{{ jws_version.split('.')[0] }}/v{{ jws_version }}/bin/{{ jws_zipfile }}"
# Switch to True if you want to also download native bits
jws_native: False

jws_version: 5.6.0
jws_home: "{{ jws_install_dir }}/jws-{{ jws_version.split('.')[0] }}.{{ jws_version.split('.')[1] }}/tomcat"
jws_rhn_base_url: https://access.redhat.com/jbossnetwork/restricted/softwareDownload.html?softwareId=
# if True automatically apply the most recent cumulative patch
jws_apply_patches: False
jws_selinux_enabled: True

jws_user: tomcat
jws_uid: 53
jws_group: tomcat
jws_gid: 53

# use default paths for tomcat or jws zipfiles depending on install_method; or can be overriden
tomcat_home: "{{ jws_home if jws_install_method == 'rhn_zipfiles' else tomcat_zipfile_home }}"
jws_setup: True

tomcat_catalina_base: "{{ lookup('env','CATALINA_BASE') }}"
tomcat_conf_properties: './conf/catalina.properties'
tomcat_conf_policy: './conf/catalina.policy'
tomcat_conf_loggging: './conf/logging.properties'
tomcat_conf_context: './conf/context.xml'
tomcat_conf_server: './conf/server.xml'
tomcat_conf_web: './conf/web.xml'
tomcat_conf_templates_context: 'templates/context.xml.j2'
tomcat_conf_templates_server: 'templates/server.xml.j2'
tomcat_conf_templates_web: 'templates/web.xml.j2'
tomcat_conf_templates_catalina_properties: 'templates/catalina.properties.j2'

jws_shutdown_port: '8005'

# HTTP Connector config
jws_listen_http_port: '8080'
jws_listen_http_bind_address: 'localhost'
jws_listen_http_enabled: True

# HTTPS Connector Config
jws_listen_https_enabled: False
jws_listen_https_port: '8443'
jws_listen_https_bind_address: 'localhost'
jws_listen_https_servername: 'My Server'
jws_listen_https_threads_max: 150
jws_listen_https_connection_timeout: 6000
jws_listen_https_headers_size: 8192
jws_listen_https_keystore_file: /etc/ssl/keystore.jks
jws_listen_https_keystore_password: changeit
jws_listen_https_client_auth: false

# tomcat AJP Connector Config
jws_listen_ajp_enabled: False
jws_listen_ajp_address: '::1'
jws_listen_ajp_port: '8009'
jws_listen_ajp_secret_required: True
jws_listen_ajp_secret: 'secret'

# vault configuration
tomcat_vault_name: 'vault.keystore'
tomcat_vault_enabled: False
tomcat_vault_alias: 'my_vault'
tomcat_vault_storepass: '123456'
tomcat_vault_iteration: '44'
tomcat_vault_salt: '1234abcd'
tomcat_vault_properties: 'vault.properties'
tomcat_vault_data: 'VAULT.dat'

# modcluster configuration
jws_modcluster_enabled: False
jws_modcluster_ip: '127.0.0.1'
jws_modcluster_port: '6666'
jws_modcluster_connector_port: '6666'
jws_modcluster_advertise: 'false'
# modcluster session configuration
jws_modcluster_sticky_session: True
jws_modcluster_sticky_session_force: False
jws_modcluster_sticky_session_remove: True

# systemd/service settings
jws_systemd_enabled: False
jws_systemd_script_interpreter: 'bash'
jws_systemd_script_shebang: "#!/bin/{{ jws_systemd_script_interpreter }}"
jws_service_name: 'jws5-tomcat'
jws_service_conf: "{{ jws_home }}/conf/{{ jws_service_name }}.conf"
jws_service_script: "{{ jws_home }}/bin/systemd-service.sh"
jws_service_systemd: "/usr/lib/systemd/system/{{ jws_service_name }}.service"
jws_service_systemd_pidfile: "{{ jws_home }}/{{ jws_service_name }}.pidfile"
jws_service_systemd_type: "simple"
